{"ast":null,"code":"export const convertToWorkerObjects = data => {\n  // Define the header row, which will be used to map the data to the correct keys\n  const headers = ['friendlyName', 'contact_uri', 'full_name', 'email', 'roles', 'skills', 'language'];\n\n  // Convert the CSV data to worker objects\n  const workerObjects = data.filter((row, index) => index !== 0).map(row => {\n    const worker = {};\n    headers.forEach((header, index) => {\n      if (header === 'friendlyName') {\n        worker[header] = row[index];\n      } else if (header === 'roles' || header === 'skills') {\n        // Split comma-separated values into arrays\n        worker.attributes = worker.attributes || {};\n        worker.attributes[header] = row[index].split(',');\n      } else {\n        worker.attributes = worker.attributes || {};\n        worker.attributes[header] = row[index];\n      }\n    });\n    return worker;\n  });\n  return workerObjects;\n};","map":{"version":3,"names":["convertToWorkerObjects","data","headers","workerObjects","filter","row","index","map","worker","forEach","header","attributes","split"],"sources":["/Users/nicolas.sementilli/Documents/Best Buy/Code/worker-csv/src/utils/convertToWorkerObjects.js"],"sourcesContent":["export const convertToWorkerObjects = (data) => {\n  // Define the header row, which will be used to map the data to the correct keys\n  const headers = [\n    'friendlyName',\n    'contact_uri',\n    'full_name',\n    'email',\n    'roles',\n    'skills',\n    'language',\n  ];\n\n  // Convert the CSV data to worker objects\n  const workerObjects = data\n    .filter((row, index) => index !== 0)\n    .map((row) => {\n      const worker = {};\n      headers.forEach((header, index) => {\n        if (header === 'friendlyName') {\n          worker[header] = row[index];\n        } else if (header === 'roles' || header === 'skills') {\n          // Split comma-separated values into arrays\n          worker.attributes = worker.attributes || {};\n          worker.attributes[header] = row[index].split(',');\n        } else {\n          worker.attributes = worker.attributes || {};\n          worker.attributes[header] = row[index];\n        }\n      });\n      return worker;\n    });\n\n  return workerObjects;\n};\n"],"mappings":"AAAA,OAAO,MAAMA,sBAAsB,GAAIC,IAAI,IAAK;EAC9C;EACA,MAAMC,OAAO,GAAG,CACd,cAAc,EACd,aAAa,EACb,WAAW,EACX,OAAO,EACP,OAAO,EACP,QAAQ,EACR,UAAU,CACX;;EAED;EACA,MAAMC,aAAa,GAAGF,IAAI,CACvBG,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKA,KAAK,KAAK,CAAC,CAAC,CACnCC,GAAG,CAAEF,GAAG,IAAK;IACZ,MAAMG,MAAM,GAAG,CAAC,CAAC;IACjBN,OAAO,CAACO,OAAO,CAAC,CAACC,MAAM,EAAEJ,KAAK,KAAK;MACjC,IAAII,MAAM,KAAK,cAAc,EAAE;QAC7BF,MAAM,CAACE,MAAM,CAAC,GAAGL,GAAG,CAACC,KAAK,CAAC;MAC7B,CAAC,MAAM,IAAII,MAAM,KAAK,OAAO,IAAIA,MAAM,KAAK,QAAQ,EAAE;QACpD;QACAF,MAAM,CAACG,UAAU,GAAGH,MAAM,CAACG,UAAU,IAAI,CAAC,CAAC;QAC3CH,MAAM,CAACG,UAAU,CAACD,MAAM,CAAC,GAAGL,GAAG,CAACC,KAAK,CAAC,CAACM,KAAK,CAAC,GAAG,CAAC;MACnD,CAAC,MAAM;QACLJ,MAAM,CAACG,UAAU,GAAGH,MAAM,CAACG,UAAU,IAAI,CAAC,CAAC;QAC3CH,MAAM,CAACG,UAAU,CAACD,MAAM,CAAC,GAAGL,GAAG,CAACC,KAAK,CAAC;MACxC;IACF,CAAC,CAAC;IACF,OAAOE,MAAM;EACf,CAAC,CAAC;EAEJ,OAAOL,aAAa;AACtB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}