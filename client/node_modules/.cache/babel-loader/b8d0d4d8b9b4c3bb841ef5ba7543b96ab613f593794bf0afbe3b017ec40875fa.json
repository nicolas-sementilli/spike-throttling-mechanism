{"ast":null,"code":"export const convertToWorkerObjects = data => {\n  // Define the header row, which will be used to map the data to the correct keys\n  const headers = ['friendlyName', 'contact_uri', 'full_name', 'email', 'roles', 'skills', 'language'];\n\n  // Convert the CSV data to worker objects\n  const workerObjects = data.filter((row, index) => index !== 0).map(row => {\n    const worker = {};\n    worker.attributes = {};\n    headers.forEach((header, index) => {\n      if (header === 'roles' || header === 'skills') {\n        // Split comma-separated values into arrays\n        worker.attributes[header] = row[index].split(',');\n      } else if (header === 'friendlyName') {\n        worker[header] = row[index];\n      } else {\n        worker.attributes[header] = row[index];\n      }\n    });\n    return worker.friendlyName ? worker : null;\n  });\n  return workerObjects.filter(worker => worker);\n};","map":{"version":3,"names":["convertToWorkerObjects","data","headers","workerObjects","filter","row","index","map","worker","attributes","forEach","header","split","friendlyName"],"sources":["/Users/nicolas.sementilli/Documents/Best Buy/Code/worker-csv/src/utils/convertToWorkerObjects.js"],"sourcesContent":["export const convertToWorkerObjects = (data) => {\n  // Define the header row, which will be used to map the data to the correct keys\n  const headers = [\n    'friendlyName',\n    'contact_uri',\n    'full_name',\n    'email',\n    'roles',\n    'skills',\n    'language',\n  ];\n\n  // Convert the CSV data to worker objects\n  const workerObjects = data\n    .filter((row, index) => index !== 0)\n    .map((row) => {\n      const worker = {};\n      worker.attributes = {};\n      headers.forEach((header, index) => {\n        if (header === 'roles' || header === 'skills') {\n          // Split comma-separated values into arrays\n          worker.attributes[header] = row[index].split(',');\n        } else if (header === 'friendlyName') {\n          worker[header] = row[index];\n        } else {\n          worker.attributes[header] = row[index];\n        }\n      });\n      return worker.friendlyName ? worker : null;\n    });\n\n  return workerObjects.filter((worker) => worker);\n};\n"],"mappings":"AAAA,OAAO,MAAMA,sBAAsB,GAAIC,IAAI,IAAK;EAC9C;EACA,MAAMC,OAAO,GAAG,CACd,cAAc,EACd,aAAa,EACb,WAAW,EACX,OAAO,EACP,OAAO,EACP,QAAQ,EACR,UAAU,CACX;;EAED;EACA,MAAMC,aAAa,GAAGF,IAAI,CACvBG,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKA,KAAK,KAAK,CAAC,CAAC,CACnCC,GAAG,CAAEF,GAAG,IAAK;IACZ,MAAMG,MAAM,GAAG,CAAC,CAAC;IACjBA,MAAM,CAACC,UAAU,GAAG,CAAC,CAAC;IACtBP,OAAO,CAACQ,OAAO,CAAC,CAACC,MAAM,EAAEL,KAAK,KAAK;MACjC,IAAIK,MAAM,KAAK,OAAO,IAAIA,MAAM,KAAK,QAAQ,EAAE;QAC7C;QACAH,MAAM,CAACC,UAAU,CAACE,MAAM,CAAC,GAAGN,GAAG,CAACC,KAAK,CAAC,CAACM,KAAK,CAAC,GAAG,CAAC;MACnD,CAAC,MAAM,IAAID,MAAM,KAAK,cAAc,EAAE;QACpCH,MAAM,CAACG,MAAM,CAAC,GAAGN,GAAG,CAACC,KAAK,CAAC;MAC7B,CAAC,MAAM;QACLE,MAAM,CAACC,UAAU,CAACE,MAAM,CAAC,GAAGN,GAAG,CAACC,KAAK,CAAC;MACxC;IACF,CAAC,CAAC;IACF,OAAOE,MAAM,CAACK,YAAY,GAAGL,MAAM,GAAG,IAAI;EAC5C,CAAC,CAAC;EAEJ,OAAOL,aAAa,CAACC,MAAM,CAAEI,MAAM,IAAKA,MAAM,CAAC;AACjD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}